function getUrlVars(e){var t={},n=decodeURIComponent(e),a=n.substr(1).split("&");return a.forEach(function(e){var n=e.split("=");t[n[0]]=n[1]}),t}$(window).load(function(){var e=function(){$(".twitter-tweet").remove();for(var e=document.querySelectorAll(".tweet"),t=0;t<e.length;t++){var n=e[t],a=n.getAttribute("tweetID");twttr.widgets.createTweet(a,n,{conversation:"none",cards:"hidden",linkColor:"#337AB7",theme:"light"})}};$(".love-slider").on("init reInit breakpoint",e).slick({autoplay:!0,autoplaySpeed:6e3,arrows:!1,dots:!0,infinite:!0,slidesToShow:3,slidesToScroll:1,responsive:[{breakpoint:1200,settings:{slidesToShow:3}},{breakpoint:992,settings:{slidesToShow:2}},{breakpoint:768,settings:{slidesToShow:1}}]})}),$(document).ready(function(){$(".quotes-slider-container").each(function(){var e=$(this);if(!(e.find(".quote").length<2)){for(var t=e[0],n=t.children.length;n>=0;n--)t.appendChild(t.children[Math.random()*n|0]);e.slick({autoplay:!0,autoplaySpeed:6e3,arrows:!1,dots:!0})}})}),function(){var e=Array.from(document.querySelectorAll("[data-action=toggle-dropdown]"));e.forEach(function(e){var t=e.getAttribute("data-target-dropdown"),n=document.querySelectorAll("[data-dropdown="+t+"]")[0];e.addEventListener("click",function(e){$(n).toggle(),"block"===n.style.display?window.activeDropdown=n:window.activeDropdown=null,e.stopPropagation()})}),window.addEventListener("click",function(){window.activeDropdown&&($(window.activeDropdown).toggle(),window.activeDropdown=null)})}(),jQuery(document).ready(function(e){e("img[data-default-src]").each(function(){var t=e(this).data("default-src");e(this).on("error",function(){e(this).attr({src:t})})})}),$(document).ready(function(){$("#contact-form textarea.message").on("focus",function(){$(this).addClass("blurred")})}),$(document).ready(function(){$('input[name="lead-source-radios"]').on("change",function(){$("#lead-source-hidden-input").val($(this).val()).trigger("change")})}),$(document).ready(function(){$("#lead-source-hidden-input").on("change",function(){var e=$(this).val(),t=$(this).parents("form");"Self Provisioned Trial"==e?(t.removeAttr("data-modal"),t.attr("data-redirect","/enterprise-trial-install/confirm/")):"Enterprise SaaS"==e?(t.removeAttr("data-modal"),t.attr("data-redirect","/signup/")):"Web to Lead Form"==e&&(t.removeAttr("data-modal"),t.attr("data-redirect","/enterprise/#confirm=enterpriseSPTOtherQuestionsThankYou"))})}),$(document).ready(function(){var e=$("#contact-form");e.on("submit",function(t){t.isDefaultPrevented()||(t.preventDefault(),trackEvent("enterprise-contact-submitted",analyticsTrackProps(e),null,function(){e.off("submit"),e.submit()}))})}),document.addEventListener("chatlio.ready",function(){var e=$("#enterprise-chat-overlay");_chatlio.messages().length>0&&_chatlio.isOnline()&&(_chatlio.show(),e.addClass("dismissed")),e.show()},!1),$(document).ready(function(){var e=$("#enterprise-chat-overlay"),t=$("#enterprise-chat-form");if(0!==e.length){var n=Cookies.get("enterprise_pre_chat_state");e.addClass(n),setTimeout(function(){n||e.hasClass("dismissed")||e.removeClass("minimized")},2e4),e.find(".btn-minimize").on("click",function(t){t.preventDefault(),e.toggleClass("minimized"),e.removeClass("expanded"),e.hasClass("minimized")?Cookies.set("enterprise_pre_chat_state","minimized",{expires:.4}):Cookies.remove("enterprise_pre_chat_state")}),e.find(".btn-close").on("click",function(t){t.preventDefault(),e.toggleClass("dismissed"),e.removeClass("expanded"),e.hasClass("dismissed")?Cookies.set("enterprise_pre_chat_state","dismissed",{expires:.4}):Cookies.remove("enterprise_pre_chat_state")}),e.find(".btn-expand").on("click",function(){e.addClass("expanded")}),e.find('input[name="name"], input[name="email"]').on("focus",function(){e.addClass("expanded")}),t.validator(),t.submit(function(t){if(!t.isDefaultPrevented()){t.preventDefault(),e.addClass("dismissed");var n=$(this).find('input[name="email"]').val(),a=$(this).find('textarea[name="message"]').val(),i={};i.email=n,i.name=$(this).find('input[name="name"]').val(),i.company=$(this).find('input[name="company"]').val();for(var o=["gclid","utm_source","utm_medium","utm_term","lead-url","utm_content","utm_campaign","initial_referrer","current_referrer"],r=0;r<o.length;r++){var s=o[r],c=Cookies.get(s);c&&(i[s]=c)}_chatlio.identify(n,i),_chatlio.show({expanded:!0}),_chatlio.send(a),_chatlio.isOnline()||$("#chatlio-widget .chatlio-btn").click()}})}}),$(document).ready(function(){if(0!=$(".pricing-tabs").length){$('[data-toggle="tooltip"]').tooltip();var e=document.location.toString();e.match("#")&&$('a[data-toggle="tab"][href="#'+e.split("#")[1]+'"]').tab("show"),$('a[data-toggle="tab"]').on("click",function(){history.replaceState(null,null,$(this).attr("href"))}),$('a[data-toggle="tab"]').on("shown.bs.tab",function(e){var t=$(e.target).data("target");$(t+" .quotes-slider-container").slick("slickGoTo",0)})}}),jQuery(document).ready(function(e){jQuery.getJSON("/api/v1/me").done(function(t){e(document.body).addClass("loggedin"),window.userData=t,Cookies.set("cci-customer","true",{expires:3650}),window.analytics&&analytics.identify(t.analytics_id,null,null,function(){Cookies.set("amplitude-session-id",getSessionId(),{expires:30*DAYS_PER_MINUTE})})}).fail(function(){Cookies.set("cci-customer","false",{expires:3650})}).always(function(){"true"===Cookies.get("cci-customer")&&(e(".customers-only").show(),e(".noncustomers-only").hide())})}),window.analyticsTrackProps=function(e){var t={path:document.location.pathname,url:document.location.href,referrer:document.referrer,title:document.title},n=window.userData&&window.userData.login;if(n&&(t.user=n),e){var a=$(e).data("analytics-location");a&&(t.page_location=a);var i=$.trim($(e).text());i&&(t.cta_text=i);var o=$(e).data("analytics-vcs-type");o&&(t["vcs-type"]=o);var r=$(e).data("analytics-vcs-scope");r&&(t["vcs-scope"]=r)}return t},window.addEventListener("load",function(){var e=Array.from(document.querySelectorAll("[data-analytics-action]"));e.forEach(function(e){e.addEventListener("click",function(){var e=this.getAttribute("data-analytics-action");e&&trackEvent(e,analyticsTrackProps(this))})})}),jQuery(document).ready(function(e){var t=e("main [data-analytics-action='signup-clicked']")[0];t&&trackEvent("signup-impression",analyticsTrackProps(t))}),jQuery(document).ready(function(e){e(".share-buttons .popout").on("click",function(t){t.preventDefault(),window.open(e(this).attr("href"),"pop","width=600, height=450")})}),jQuery(document).ready(function(e){e(".blog.page").find("a[href$='.jpg'], a[href$='.png'], a[href$='.gif']").fluidbox()}),hljs.initHighlightingOnLoad();var popModal=function(e,t){var n=document.getElementById("general-modal"),a=document.getElementById("modal-bg"),i=n.getElementsByTagName("h2")[0],o=n.getElementsByTagName("p")[0];try{i.innerHTML=e,o.innerHTML=t}catch(r){console.log(r,"; This is probably because a form has yet to be submitted, or because browser settings are preventing localStorage functionality.")}setTimeout(function(){n.style.display="block",a.style.display="block",setTimeout(function(){n.style.top="25px",a.style.opacity="1"},10),a.addEventListener("click",function(){n.style.display=null,a.style.display=null,n.style.top=null,a.style.opacity=null})},10)},firingModal=function(){if(window.location.hash.indexOf("confirm")>-1){var e,t=getUrlVars(window.location.hash);t.confirm&&(e=t.confirm),modals[e].execute&&modals[e].execute(),popModal(modals[e].header,modals[e].content)}};window.addEventListener("load",firingModal),window.addEventListener("hashchange",firingModal),jQuery(document).ready(function(e){if(e("body").hasClass("error-login-taken")){var t,n,a=getUrlVars(window.location.search);"gh"===a.vcs?(t="GitHub",n="Bitbucket"):"bb"===a.vcs&&(t="Bitbucket",n="GitHub"),e(".username").text(a.username),e(".vcs").text(t),e(".other-vcs").text(n),e(".login-button."+a.vcs).hide()}}),function(){var e=document.getElementById("enterprise-chat-form")||void 0,t=document.getElementById("enterprise-chat-overlay")||void 0;e&&t&&void 0!==e&&e.addEventListener("submit",function(){trackEvent("enterprise-chat-submitted",analyticsTrackProps(e)),qEvent(getAnonymousId(),"Enterprise Conversion - Order ID")})}(),function(){var e=document.getElementById("contact-nav-button"),t=document.getElementById("contact-nav-footer"),n=0;e&&e.addEventListener("click",function(){0===n?(t.style.display="block",setTimeout(function(){t.style.height="160px"},10),n=1):1===n&&(t.style.height="0px",setTimeout(function(){t.style.display="none"},600),n=0)})}(),function(){jQuery(document).ready(function(e){var t=Array.from(document.getElementsByClassName("html5-form"));t.length>0&&t.forEach(function(t){var n=document.getElementsByClassName("work-email")[0];n&&n.addEventListener("blur",function(){var e=this.value.toLowerCase();e.endsWith("gmail.com")||e.endsWith("gmail.fr")||e.endsWith("yahoo.com")||e.endsWith("yahoo.fr")||e.endsWith("live.com")||e.endsWith("outlook.com")||e.endsWith("msn.com")||e.endsWith("hotmail.com")||e.endsWith("comcast.net")||e.endsWith("aol.com")||e.endsWith("safetymail.info")?(this.setCustomValidity("Please enter your work email address."),this.validity.valid=!1):(this.setCustomValidity(""),this.validity.valid=!0)}),t.addEventListener("submit",function(n){var a=t.getAttribute("action"),i=t.getAttribute("data-modal"),o=t.getAttribute("data-redirect");n.preventDefault(),data=e(t).serialize();var r=function(e,t){var n=t||document,a=n.querySelectorAll(e)[0];return a?a.value:void 0};localStorage.userInfo=JSON.stringify({first_name:r("[name=first_name]",t),last_name:r("[name=last_name]",t),company:r("[name=company]",t),email:r("[name=email]",t)}),postAjax(a,data,function(){i?(window.scrollTo(0,0),window.location="#confirm="+i):o&&(window.location=o)})})})})}();